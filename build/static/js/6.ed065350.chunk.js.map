{"version":3,"sources":["page/meituan/Order/ListItem/ListItem.jsx","page/meituan/Order/Order.jsx","page/meituan/Order/index.js","components/LoadIng/LoadIng.jsx","components/ScrollView/ScrollView.jsx","components/ScrollView/index.js"],"names":["ListItem","data","list","product_list","push","type","map","item","index","react_default","a","createElement","className","key","product_count","total","product_name","is_comment","itemData","this","props","src","poi_pic","alt","poi_name","status_description","renderProduct","renderComment","Component","Order","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","page","state","isend","getOrder","loadPage","bind","assertThisInitialized","setState","items","Order_ListItem_ListItem","console","log","ScrollView","loadCallback","renderList","connect","objectSpread","aperpolicy","order","actions","__webpack_require__","d","__webpack_exports__","meituan_Order_Order","LoadIng","str","onLoadPage","window","addEventListener","removeEventListener","scrollTop","document","documentElement","bodyHeight","body","scrollHeight","clientHeight","children","components_LoadIng_LoadIng","components_ScrollView_ScrollView"],"mappings":"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","file":"static/js/6.ed065350.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\n\n\nclass ListItem extends Component {\n\n\trenderProduct(data) {\n\t\tconst list = data.product_list;\n\t\tlist.push({type:'more'})\n\t\treturn list.map((item,index) => {\n\t\t\tif (item.type) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"product-item\" key={index}>... \n\t\t\t\t\t\t<div className=\"p-total-count\">\n\t\t\t\t\t\t\t总计{data.product_count}个菜,实付\n\t\t\t\t\t\t\t<span className=\"total-price\">¥{data.total}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn <div className=\"product-item\" key={index}>{item.product_name}<div className=\"p-count\">x{item.product_count}</div></div>\n\t\t})\n\t}\n\trenderComment(data) {\n\t\tlet evaluation = !data.is_comment;\n\t\tif (evaluation) {\n\t\t\treturn (\n\t\t\t\t<div className=\"evaluation\">\n\t\t\t\t\t<div className=\"evaluation-btn\">评价</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn  null;\n\t}\n\n\trender() {\n\t\tconst {itemData} = this.props;\n\t\t\n\t\treturn (\n\t\t\t<div className=\"order-itme\">\n\t\t\t\t<div className=\"order-item-inner\">\n\t\t\t\t\t<img className=\"itme-img\" src={itemData.poi_pic} alt=\"\"/>\n\t\t\t\t\t<div className=\"item-right\">\n\t\t\t\t\t\t<div className=\"item-top\">\n\t\t\t\t\t\t\t<p className=\"order-name one-line\">{itemData.poi_name}</p>\n\t\t\t\t\t\t\t<div className=\"arrow\"></div>\n\t\t\t\t\t\t\t<div className=\"order-state\">{itemData.status_description}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"item-bottom\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.renderProduct(itemData)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{\n\t\t\t\tthis.renderComment(itemData)\n\t\t\t}\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ListItem;\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/actions/aperpolicy/aper';\nimport ScrollView from '../../../components/ScrollView';\nimport ListItem from './ListItem';\n\nclass Order extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tthis.page = 0;\n\t\tthis.state = {\n\t\t\tisend: false\n\t\t}\n\t\tprops.getOrder(this.page);\n\t\tthis.loadPage = this.loadPage.bind(this);\n\t}\n\tloadPage() {\n\t\tthis.page++;\n\t\n\t\tif (this.page > 3) {\n\t\t\tthis.setState({\n\t\t\t\tisend: true\n\t\t\t});\n\t\t} else {\n\t\t\tthis.props.getOrder(this.page);\n\t\t}\n\t}\n\n\trenderList() {\n\t\tconst {items} = this.props;\n\t\treturn items.map((item, index) => {\n\t\t\treturn <ListItem itemData={item} key={index}>\n\t\t\t\t{item.poi_name}\n\t\t\t</ListItem>\n\t\t})\n\t}\n\trender() {\n\t\tconsole.log(this.props)\n\t\treturn (\n\t\t\t<div className=\"order\">\n\t\t\t\t<div className=\"header\">订单</div>\n\t\t\t\t<ScrollView loadCallback={this.loadPage} isend={this.state.isend}>\n\t\t\t\t<div className=\"order-list\">{this.renderList()}</div>\n\t\t\t\t</ScrollView>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => ({...state.aperpolicy.order}), actions)(Order);\n\n","import './Order.scss';\nexport { default } from './Order.jsx';\n","import React, { Component } from 'react';\n\n\nclass LoadIng extends Component {\n  render () {\n    let str = '加载中';\n    if (this.props.isend) {\n      str = '已完成'\n    }\n    return <div className=\"loading\">{str}</div>;\n  }\n}\n\nexport default LoadIng;\n","import React, { Component } from 'react';\nimport LoadIng from '../LoadIng';\n\nclass ScrollView extends Component {\n  constructor() {\n    super();\n    this.onLoadPage = this.onLoadPage.bind(this);\n  }\n  componentDidMount() {\n\t\twindow.addEventListener('scroll', this.onLoadPage);\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.onLoadPage);\n\t}\n\n\tonLoadPage() {\n\t\tconst scrollTop = document.documentElement.scrollTop;\n\t\tconst bodyHeight = document.body.scrollHeight;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\t\tconst spe = 90;\n\t\t\n\t\tif ((scrollTop + clientHeight) >= (bodyHeight-spe)) {\n      if (!this.props.isend) {\n        this.props.loadCallback && this.props.loadCallback();\n      }\n\t\t}\n\t}\n  render () {\n   \n    return <div className=\"scrollView\">\n      {\n        this.props.children\n      }\n      <LoadIng isend={this.props.isend} />\n    </div>;\n  }\n}\n\nexport default ScrollView;\n","import './ScrollView.scss'\nexport { default } from './ScrollView.jsx'"],"sourceRoot":""}