{"version":3,"sources":["page/meituan/Comment/CommentList/CommentItem/CommentItem.jsx","page/meituan/Comment/CommentList/CommentList.jsx","page/meituan/Comment/Comment.jsx","page/meituan/Comment/index.js","components/LoadIng/LoadIng.jsx","components/ScrollView/ScrollView.jsx","components/ScrollView/index.js"],"names":["CommentItem","item","imgs","comment_pics","length","react_default","a","createElement","className","map","res","index","src","url","style","backgroundImage","concat","key","arr","content","time","date","Date","Number","console","log","getFullYear","getMonth","getDate","this","props","data","formatTime","comment_time","user_pic_url","alt","user_name","ship_time","comment","renderImgs","praise_food_tip","comment_labels","renderTags","Component","CommentList","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","page","onLoadPage","bind","assertThisInitialized","commentList","CommentList_CommentItem_CommentItem","getComment","ScrollView","loadCallback","isend","renderList","connect","state","objectSpread","aperpolicy","actions","Comment","commentData","comment_score","food_score","pack_score","delivery_score","Comment_CommentList_CommentList","__webpack_require__","d","__webpack_exports__","meituan_Comment_Comment","LoadIng","str","window","addEventListener","removeEventListener","scrollTop","document","documentElement","bodyHeight","body","scrollHeight","clientHeight","children","components_LoadIng_LoadIng","components_ScrollView_ScrollView"],"mappings":"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","file":"static/js/5.64e4db9c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass CommentItem extends Component {\n\trenderImgs(item) {\n\t\tlet imgs = item.comment_pics || [];\n\t\tif (imgs.length) {\n\t\t\treturn (\n\t\t\t\t<div className=\"img-content\">\n\t\t\t\t\t{imgs.map((res, index) => {\n\t\t\t\t\t\tlet src = res.url;\n\t\t\t\t\t\tlet style = {\n\t\t\t\t\t\t\tbackgroundImage: `url(${src})`\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn <div key={index} className=\"img-item\" style={style}></div>\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn null;\n\t}\n\trenderTags(arr) {\n\t\treturn arr.map((item) => {\n\t\t\treturn item.content + '.';\n\t\t});\n\t}\n\tformatTime(time) {\n\t\tlet date = new Date(Number(time + '000'));\n\t\tconsole.log(date.getFullYear())\n\t\treturn date.getFullYear() +'.' + (date.getMonth() +1) + '.' +date.getDate();\n\t}\n\trender() {\n\t\tlet item = this.props.data;\n\n\t\treturn (\n\t\t\t<div className=\"comment-item\">\n\t\t\t\t<div className=\"comment-time\">{this.formatTime(item.comment_time)}</div>\n\t\t\t\t<img className=\"avatar\" src={item.user_pic_url || 'https://img.meituan.net/avatar/1d7fe969523414ec3235b6828763706d30899.jpg'} alt=\"\"/>\n\t\t\t\t<div className=\"item-right\">\n\t\t\t\t\t<p className=\"nickname\">{item.user_name}</p>\n\t\t\t\t\t<div className=\"star-and-time\">\n\t\t\t\t\t\t<div className=\"star-content\">*****</div>\n\t\t\t\t\t\t<div className=\"send-tiem\">{item.ship_time + '分钟送达'}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"comment-text\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.comment\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.renderImgs(item)\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\titem.praise_food_tip ? <div className=\"like-info\">{item.praise_food_tip }</div> : null\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\titem.comment_labels.length ? <div className=\"tag-info\">{this.renderTags(item.comment_labels) }</div> : null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CommentItem\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../redux/actions/aperpolicy/aper';\n\nimport ScrollView from '../../../../components/ScrollView';\nimport CommentItem from './CommentItem';\n\nclass CommentList extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.page = 0;\n\t\tthis.onLoadPage = this.onLoadPage.bind(this);\n\t}\n\trenderList() {\n\t\t\tlet list = this.props.commentList;\n\t\t\treturn list.map((item, index) => {\n\t\t\t\treturn <CommentItem key={index} data={item}></CommentItem>\n\t\t\t})\n\t\t\n\t}\n\tonLoadPage() {\n\n\n\t\tthis.props.getComment();\n\n\t}\n\trender() {\n\t\n\t\treturn (\n\t\t\t<div className=\"commentList\">\n\t\t\t\t<ScrollView loadCallback={this.onLoadPage} isend={0}>\n\t\t\t\t\t{this.renderList()}\n\t\t\t\t</ScrollView>\n\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default connect(state => ({...state.aperpolicy.comment}), actions)(CommentList);","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../redux/actions/aperpolicy/aper';\nimport CommentList from './CommentList';\nclass Comment extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t\tprops.getComment();\n\t}\n\t\n\n\trender() {\n\t\tlet data = this.props.commentData;\n\t\treturn (\n\t\t\t<div className=\"comment-inner\">\n\t\t\t\t<div className=\"comment-score\">\n\t\t\t\t\t<div className=\"mail-score-content\">\n\t\t\t\t\t\t<div className=\"mail-score\">{data.comment_score}</div>\n\t\t\t\t\t\t<div className=\"mail-text\">商家评价</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"other-score-content\">\n\t\t\t\t\t\t<div className=\"taste-score\">\n\t\t\t\t\t\t\t<div className=\"taste-text\">口味</div>\n\t\t\t\t\t\t\t<div className=\"taste-star-wrap\">*****</div>\n\t\t\t\t\t\t\t<div className=\"taste-score-text\">{data.food_score}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"package-score\">\n\t\t\t\t\t\t\t<div className=\"package-text\">包装</div>\n\t\t\t\t\t\t\t<div className=\"package-star-wrap\">*****</div>\n\t\t\t\t\t\t\t<div className=\"package-score-text\">{data.pack_score}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"send-score-content\">\n\t\t\t\t\t\t<div className=\"send-score\">{data.delivery_score}</div>\n\t\t\t\t\t\t<div className=\"send-text\">商家评价</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<CommentList></CommentList>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => ({...state.aperpolicy.comment}), actions)(Comment);\n\n\n","import './Comment.scss';\nexport { default } from './Comment.jsx';\n","import React, { Component } from 'react';\n\n\nclass LoadIng extends Component {\n  render () {\n    let str = '加载中';\n    if (this.props.isend) {\n      str = '已完成'\n    }\n    return <div className=\"loading\">{str}</div>;\n  }\n}\n\nexport default LoadIng;\n","import React, { Component } from 'react';\nimport LoadIng from '../LoadIng';\n\nclass ScrollView extends Component {\n  constructor() {\n    super();\n    this.onLoadPage = this.onLoadPage.bind(this);\n  }\n  componentDidMount() {\n\t\twindow.addEventListener('scroll', this.onLoadPage);\n\t}\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.onLoadPage);\n\t}\n\n\tonLoadPage() {\n\t\tconst scrollTop = document.documentElement.scrollTop;\n\t\tconst bodyHeight = document.body.scrollHeight;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\t\tconst spe = 90;\n\t\t\n\t\tif ((scrollTop + clientHeight) >= (bodyHeight-spe)) {\n      if (!this.props.isend) {\n        this.props.loadCallback && this.props.loadCallback();\n      }\n\t\t}\n\t}\n  render () {\n   \n    return <div className=\"scrollView\">\n      {\n        this.props.children\n      }\n      <LoadIng isend={this.props.isend} />\n    </div>;\n  }\n}\n\nexport default ScrollView;\n","import './ScrollView.scss'\nexport { default } from './ScrollView.jsx'"],"sourceRoot":""}