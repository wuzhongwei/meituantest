{"version":3,"sources":["page/meituan/Menu/MenuItem/MenuItem.jsx","page/meituan/ShopBar/ShopBar.jsx","page/meituan/Menu/Menu.jsx","page/meituan/Menu/index.js"],"names":["MenuItem","_this","this","data","props","react_default","a","createElement","className","src","picture","alt","name","description","praise_content","min_price","unit","chooseCount","onClick","minusSelectItem","index","_index","addSelectItem","Component","connect","state","Object","objectSpread","aperpolicy","menu","actions","ShopBar","listData","food_spu_tags","totalPrice","dotNum","chooseList","i","length","spus","j","push","outIndex","map","item","key","_outIndex","_this2","shipping_fee","poi_info","getAllPrice","showContent","clearCar","showChoose","renderItem","flag","Menu","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getMenuData","arr","Menu_MenuItem_MenuItem","itemClick","currentLeftIndex","currentItem","renderRightList","cls","icon","renderLeft","rightRender","meituan_ShopBar_ShopBar","__webpack_require__","d","__webpack_exports__","meituan_Menu_Menu"],"mappings":"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","file":"static/js/7.9168d347.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../redux/actions/aperpolicy/aper';\n\nclass MenuItem extends Component {\n\t\n\n\trender() {\n\t\tconst {data} = this.props;\n\t\treturn (\n\t\t\t<div className=\"menu-item\">\n\t\t\t\t<img className=\"img\" src={data.picture} alt=\"\"/>\n\t\t\t\t<div className=\"menu-item-right\">\n\t\t\t\t\t<p className=\"item-title\">{data.name}</p>\n\t\t\t\t\t<p className=\"item-desc two-line\">{data.description}</p>\n\t\t\t\t\t<p className=\"item-zan\">{data.praise_content}</p>\n\t\t\t\t\t<p className=\"item-price \">¥{data.min_price}/ <span className=\"unit\">{data.unit}</span></p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"select-content\">\n\t\t\t\t\t{\n\t\t\t\t\t\tdata.chooseCount > 0 ? <div className=\"minus\" onClick={() => {\n\t\t\t\t\t\t\tthis.props.minusSelectItem({index: this.props._index})\n\t\t\t\t\t\t}}></div> : null\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tdata.chooseCount > 0 ? <div className=\"count\">{data.chooseCount}</div> : null\n\t\t\t\t\t}\n\t\t\t\t\t<div className=\"plus\" onClick={() => {\n\t\t\t\t\t\tthis.props.addSelectItem({index: this.props._index})\n\t\t\t\t\t}}></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => ({...state.aperpolicy.menu}), actions)(MenuItem);\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../redux/actions/aperpolicy/aper';\nclass ShopBar extends Component {\n\n\tgetAllPrice() {\n\t\tlet listData = this.props.listData.food_spu_tags || [];\n\t\tlet totalPrice = 0;\n\t\tlet dotNum = 0;\n\t\tlet chooseList = [];\n\n\t\tfor(let i=0; i < listData.length; i++) {\n\t\t\tlet spus = listData[i].spus || [];\n\t\t\tfor(let j=0;j<spus.length; j++) {\n\t\t\t\tlet chooseCount = spus[j].chooseCount;\n\n\t\t\t\tif (chooseCount>0) {\n\t\t\t\t\tdotNum += chooseCount;\n\t\t\t\t\tchooseList.push(spus[j]);\n\t\t\t\t\tspus[j]._index = j;\n\t\t\t\t\tspus[j].outIndex = i;\n\t\t\t\t\ttotalPrice += spus[j].min_price * chooseCount;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tdotNum,\n\t\t\ttotalPrice,\n\t\t\tchooseList\n\n\t\t}\n\t}\n\trenderItem(data){\n\t\tconst arr = data.chooseList || [];\n\t\treturn arr.map((item, index) => {\n\t\t\treturn( \n\t\t\t\t<div className=\"choose-item\" key={index}>\n\t\t\t\t\t<div className=\"item-name\">{item.name}</div>\n\t\t\t\t\t<div className=\"price\">¥{item.min_price * item.chooseCount}</div>\n\t\t\t\t\t<div className=\"select-content\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t<div className=\"minus\" onClick={() => {\n\t\t\t\t\t\t\t\tthis.props.minusSelectItem({\n\t\t\t\t\t\t\t\t\tindex: item._index,\n\t\t\t\t\t\t\t\t\toutIndex: item._outIndex\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}></div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t<div className=\"count\">{item.chooseCount}</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className=\"plus\" onClick={() => {\n\t\t\t\t\t\t\tthis.props.addSelectItem({\n\t\t\t\t\t\t\t\tindex: item._index,\n\t\t\t\t\t\t\t\toutIndex: item._outIndex\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\t}\n\trender() {\n\t\tconst shipping_fee = this.props.listData.poi_info ? this.props.listData.poi_info.shipping_fee : 0;\n\t\tlet data = this.getAllPrice();\n\n\t\treturn (\n\t\t\t<div className=\"shop-bar\">\n\t\t\t\t{\n\t\t\t\t\tthis.props.showContent ? \n\t\t\t\t\t<div className=\"choose-content\">\n\t\t\t\t\t\t<div className=\"content-top\">\n\t\t\t\t\t\t\t<div className=\"clear-car\" onClick={() => {\n\t\t\t\t\t\t\t\tthis.props.clearCar();\n\t\t\t\t\t\t\t\tthis.props.showChoose({\n\t\t\t\t\t\t\t\t\tshowContent:false\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}>清空购物车</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.renderItem(data)\n\t\t\t\t\t\t}\n\t\t\t\t\t</div> : null\n\t\t\t\t}\n\t\t\t\t<div className=\"bottom-content\">\n\t\t\t\t\t<div className=\"shop-icon\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet flag = this.props.showContent;\n\n\t\t\t\t\t\t\tthis.props.showChoose({\n\t\t\t\t\t\t\t\tshowContent: !flag\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdata.dotNum > 0 ? <div className=\"dot-num\">{data.dotNum}</div> : null\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"price-content\">\n\t\t\t\t\t\t<p className=\"total-price\">¥{data.totalPrice}</p>\n\t\t\t\t\t\t<p className=\"other-price\">另需配送&nbsp;¥{shipping_fee}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"submit-btn\">去结算</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => ({...state.aperpolicy.menu}), actions)(ShopBar);\n\n","import React, { Component, Fragment } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../redux/actions/aperpolicy/aper';\nimport MenuItem from './MenuItem';\nimport ShopBar from '../ShopBar';\nclass Menu extends Component {\n\t\n\tconstructor(props) {\n\t\tsuper();\n\t\tprops.getMenuData();\n\t}\n\trenderRightList(arr) {\n\t\tlet _arr = arr || [];\n\t\treturn _arr.map((item, index) => {\n\t\t\tif (!item.chooseCount) {\n\t\t\t\titem.chooseCount = 0;\n\t\t\t}\n\t\t\treturn <MenuItem key={index} data={item} _index={index}>{item.name}</MenuItem>\n\t\t})\n\t}\n\titemClick(index) {\n\t\tthis.props.itemClick({\n\t\t\tcurrentLeftIndex: index\n\t\t});\n\t}\n\trightRender() {\n\t\tlet index = this.props.currentLeftIndex;\n\t\tlet arr = this.props.listData.food_spu_tags || [];\n\t\tlet currentItem = arr[index];\n\t\t\n\t\tif (currentItem) {\n\t\t\tlet title = <p key={1} className=\"right-title\">{currentItem.name}</p>;\n\t\t\treturn [\n\t\t\t\ttitle,\n\t\t\t\t<div key={2} className=\"right-list\">\n\t\t\t\t\t<div className=\"right-list-inner\">\n\t\t\t\t\t\t{this.renderRightList(currentItem.spus)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t];\n\t\t}\n\t\treturn null;\n\t}\n\trenderLeft() {\n\t\tconst list = this.props.listData.food_spu_tags || [];\n\t\treturn list.map((item, index) => {\n\t\t\tlet cls = this.props.currentLeftIndex === index ? 'left-item active' : 'left-item';\n\t\t\treturn (\n\t\t\t\t<div \n\t\t\t\t\tkey={index} \n\t\t\t\t\tclassName={cls}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.itemClick(index)\n\t\t\t\t\t}}\t\n\t\t\t\t>\n\t\t\t\t\t<div className=\"item-text\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.icon ? <img className=\"img-icon\" src={item.icon} alt=\"\"/> : null\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\titem.name\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\n\t}\n\trender() {\n\t\t// console.log(this.props)\n\t\treturn (\n\t\t\t<div className=\"menu-inner\">\n\t\t\t\t<div className=\"left-bar\">\n\t\t\t\t\t<div className=\"left-bar-inner\">\n\t\t\t\t\t\t{this.renderLeft()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right-content\">\n\t\t\t\t\t{this.rightRender()}\n\t\t\t\t</div>\n\t\t\t\t<ShopBar></ShopBar>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(state => ({...state.aperpolicy.menu}), actions)(Menu);\n// export default Menu;\n\n","import './Menu.scss';\nexport { default } from './Menu.jsx';\n"],"sourceRoot":""}